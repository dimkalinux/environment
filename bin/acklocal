#! /usr/bin/env bash
ackrc=""
if [ -f ./.ackrc ]; then
ackrc=$(python <<INPUT
args=[['']]
with open('./.ackrc') as f:
    for line in f.readlines():
        line = line.strip()
        [args.append(['']) if line == '' else args[-1].append(line)]
print(' '.join([''.join(line) for line in args]))
INPUT)
fi

args=''
for arg in "$@"; do
    if [[ $arg =~ [[:space:]] ]]; then
        args="$args '$arg'"
    else
        args="$args $arg"
    fi
done

cmd="ack $ackrc $args"
eval $cmd
